<!-- inner page section -->
<section class="inner_page_head">
    <div class="container_fuild">
        <div class="row">
            <div class="col-md-12">
                <div class="full">
                    <h3> Cart </h3>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Cart Component -->
<div class="container">
    <div class="card-table">
        <div class="cart-product">
            <table class="table table-responsive" *ngIf="products.length != 0; else emptyCartMessage">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Product Name</th>
                        <th>Product Image</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of products; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ item.productTitle }}</td>
                        <td>
                            <img style="width: 100px" src="{{ item.imageUrl }}" alt="" />
                        </td>
                        <!-- <td style="width: 25%">{{ item.description }}</td> -->
                        <td>{{ item.price }}</td>
                        <td>
                            <button
                                (click)="decrementQuantity(item)"
                                class="btn btn-outline-secondary btn-sm"
                            >
                                -
                            </button>
                            {{ item.quantity }}
                            <button
                                (click)="incrementQuantity(item)"
                                class="btn btn-outline-secondary btn-sm"
                            >
                                +
                            </button>
                        </td>
                        <td>{{ item.total }}</td>
                        <td>
                            <button (click)="removeItem(item)" class="btn btn-outline-danger">X</button>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3"></td>
                        <td>
                            <button (click)="emptycart()" class="btn btn-outline-danger">
                                Empty Cart
                            </button>
                        </td>
                        <td>
                            <button
                                routerLink="/listproducts"
                                class="btn btn-outline-primary"
                            >
                                Shop More
                            </button>
                        </td>
                        <td>
                            <button (click)="checkout()" class="btn btn-outline-success">
                                Checkout
                            </button>
                        </td>
                        <td>
                            <strong>Grand Total : {{ grandTotal }} $</strong>
                        </td>
                    </tr>
                </tbody>
            </table>
            <ng-template #emptyCartMessage>
                <p>
                    <img id="img" src="../assets/images/panier-icon.png" alt="Panier Icon" />
                     Votre panier est vide
                </p>
            </ng-template>
        </div>
    </div>
</div>
